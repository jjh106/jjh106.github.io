<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Vuex-Start | JJH's blog</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">JJH's blog</a><span class="subtitle"></span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>Vuex-Start</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2017-08-14</div><div class="post-tags"><a class="post-tag-link" href="/tags/Vue-Vuex/">Vue, Vuex</a></div></div></div><article><div class="container post"><p><em>vuex를 공부하자!</em></p>
<p><em>시작 전 뷰 인스턴스를 다시 알아보고 가자.</em></p>
<h3 id="Vue-Instance"><a href="#Vue-Instance" class="headerlink" title="# Vue Instance"></a># Vue Instance</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// State</span></div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">count</span>: <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// View</span></div><div class="line">  template: <span class="string">`</span></div><div class="line">    &lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;</div><div class="line">  `,</div><div class="line">  <span class="comment">// Actions</span></div><div class="line">  methods: &#123;</div><div class="line">    inc() &#123;</div><div class="line">      <span class="keyword">this</span>.count ++</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>Vue 생성자를 통해 생성된 객체(컴포넌트)는 상태(State)를 통해서 View를, Actions를 처리하여 상태변경을 수행하고 뷰를 업데이트한다.</p>
</blockquote>
<hr>
<h4 id="상태관리는-왜-필요한가-why"><a href="#상태관리는-왜-필요한가-why" class="headerlink" title="* 상태관리는 왜 필요한가 why!?"></a>* 상태관리는 왜 필요한가 why!?</h4><p>공통의 상태를 공유하는 여러 컴포넌트가 있는 경우 단순함이 빠르게 저하된다. </p>
<p>지나치게 중첩된 컴포넌트는 부모에서 전달되는 prop이 길어질 수 있고, 형제 컴포넌트에서는 작동되지 않는다.</p>
<hr>
<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="# Vuex"></a># Vuex</h3><p><em>애플리케이션 상태 관리 패턴 라이브러리로 애플리케이션을 구성하는 모든 컴포넌트가 참조 가능한 상태를 중앙에서 관리하는 저장소이다.</em></p>
<blockquote>
<p>스토어의 state는 컴포넌트가 접근 가능한 데이터를 가지고 있다.</p>
<p>state에 바로 접근해서 수정하는 것은 권장하지 않는다.</p>
<p>값을 가져올 땐 Getters를 통해 return된 값을 가져와야 한다.</p>
<p>자식 컴포넌트에서 커밋을 수행하면 Mutations를 통해서 상태변경을 해준다.</p>
<p>Mutations는 동기적 수행만 가능하기 때문에 서버에서 가져오는 비동기처리는 할 수 없다.</p>
<p>비동기 처리를 가능하게 해주는 것은 Actions!!</p>
<p>사용자에게 Dispatch(통보)를 받으면 백엔드에서 API를 받으면 비동기로 처리가 끝났을 때 커밋을 통해 Mutations를 바꾸고 Mutations는 Sync를 통해 State를 변경하고 return된 그 값을 Getters를 이용해 다른 컴포넌트가 공유하게 된다.</p>
</blockquote>
<hr>
<h4 id="스토어-Store-데이터-기억-저장장치-패턴"><a href="#스토어-Store-데이터-기억-저장장치-패턴" class="headerlink" title="스토어(Store, 데이터 기억 저장장치)패턴"></a>스토어(Store, 데이터 기억 저장장치)패턴</h4><p><em>스토어 객체 내부에는 데이터(State)와 데이터를 관리하는 메서드(Actions)로 구성된다. 디버깅을 위한 debug속성 또한 가진다. 이러한 유형의 중앙 집중식 상태 관리는 어떤 유형의 변이가 발생하는지, 어떻게 유발 되는지를 쉽게 이해할 수 있다.</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> store = &#123;</div><div class="line">  <span class="attr">debug</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">state</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'Hello!'</span></div><div class="line">  &#125;,</div><div class="line">  setMessageAction(newValue) &#123;</div><div class="line">    <span class="keyword">this</span>.debug &amp;&amp; <span class="built_in">console</span>.log(<span class="string">'setMessageAction triggered with'</span>, newValue)</div><div class="line">    <span class="keyword">this</span>.state.message = newValue</div><div class="line">  &#125;,</div><div class="line">  clearMessageAction() &#123;</div><div class="line">    <span class="keyword">this</span>.debug &amp;&amp; <span class="built_in">console</span>.log(<span class="string">'clearMessageAction triggered'</span>)</div><div class="line">    <span class="keyword">this</span>.state.message = <span class="string">''</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vmA = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">privateState</span>: &#123;&#125;,</div><div class="line">    <span class="attr">sharedState</span>: store.state</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> vmB = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">privateState</span>: &#123;&#125;,</div><div class="line">    <span class="attr">sharedState</span>: store.state</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>스토어 객체를 만들고 스토어의 state값(store.state)을 공유할 수 있는 state(sharedState)로 뷰 인스턴스의</p>
<p>data값으로 가지게 한다.</p>
</blockquote>
</div><!-- comment system--><div class="container"><hr></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="mailto:wjdwo0106@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a><a href="https://github.com/https://github.com/jjh106" target="_blank"><i class="fa fa-github"></i></a></div><div class="footer">© 2017 <a href="/" rel="nofollow">Jae Ho</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>