<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>React-Mapping | JJH's blog</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">JJH's blog</a><span class="subtitle"></span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>React-Mapping</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2017-06-30</div><div class="post-tags"><a class="post-tag-link" href="/tags/React/">React</a></div></div></div><article><div class="container post"><p><em>Mapping은 다른 데이터를 지닌 배열을 묶어 Component 배열로 변환하여 효율적으로 렌더링해주는 것이다.</em> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Contact</span>/&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Contact</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Abet 010-0000-0001<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Betty 010-0000-0002<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Charlie 010-0000-0003<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>David 010-0000-0004<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>이름과 전화번호들이 반복된다. 이것들을 ContactInfo 컴포넌트로 묶어준다.</p>
</blockquote>
<hr>
<h3 id="ContactInfo-Component-만들기"><a href="#ContactInfo-Component-만들기" class="headerlink" title="# ContactInfo Component 만들기"></a># ContactInfo Component 만들기</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ContactInfo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.name&#125; &#123;this.props.phone&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>이름과 전화번호가 나타날 부분에 props를 객체 형태로 받아와서 사용한다.</p>
</blockquote>
<hr>
<h3 id="기본-state-추가-및-ContactInfo-Component-렌더링"><a href="#기본-state-추가-및-ContactInfo-Component-렌더링" class="headerlink" title="# 기본 state 추가 및 ContactInfo Component 렌더링"></a># 기본 state 추가 및 ContactInfo Component 렌더링</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Contact</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">contactData</span>: [</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Abet'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0001'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Betty'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0002'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Charlie'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0003'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'David'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0004'</span>&#125;</div><div class="line">      ]</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></div><div class="line">        &#123;this.state.contactData.map((contact, i) =&gt; &#123;</div><div class="line">          return (<span class="tag">&lt;<span class="name">ContactInfo</span> <span class="attr">name</span>=<span class="string">&#123;contact.name&#125;</span></span></div><div class="line">                               <span class="attr">phone</span>=<span class="string">&#123;contact.phone&#125;</span></div><div class="line">                               <span class="attr">key</span>=<span class="string">&#123;i&#125;/</span>&gt;);</div><div class="line">        &#125;)&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>상위 Component인 Contact에서 state를 설정해준다.</p>
<p>렌더링 부분을 Mapping로 변환.</p>
<p>ContactInfo를 렌더링한다.</p>
</blockquote>
<hr>
<h3 id="최종-코드"><a href="#최종-코드" class="headerlink" title="# 최종 코드"></a># 최종 코드</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// App Component</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Contact</span>/&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">      </div><div class="line"><span class="comment">// Contact Component</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Contact</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">contactData</span>: [</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Abet'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0001'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Betty'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0002'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'Charlie'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0003'</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>: <span class="string">'David'</span>, <span class="attr">phone</span>: <span class="string">'010-0000-0004'</span>&#125;</div><div class="line">      ]</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></div><div class="line">        &#123;this.state.contactData.map((contact, i) =&gt; &#123;</div><div class="line">          return (<span class="tag">&lt;<span class="name">ContactInfo</span> <span class="attr">name</span>=<span class="string">&#123;contact.name&#125;</span></span></div><div class="line">                               <span class="attr">phone</span>=<span class="string">&#123;contact.phone&#125;</span></div><div class="line">                               <span class="attr">key</span>=<span class="string">&#123;i&#125;/</span>&gt;);</div><div class="line">        &#125;)&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">// ContactInfo Component</div><div class="line">class ContactInfo extends React.Component &#123;</div><div class="line">  render() &#123;</div><div class="line">    return (</div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.name&#125; &#123;this.props.phone&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h3 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="# Array.prototype.map"></a># Array.prototype.map</h3><p>파라미터로 전달된 함수를 통해 배열 내의 각 요소를 프로세싱해 새로운 배열을 생성한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> doubled = number.map(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>arr.map(callback, [thisArg])</p>
<ul>
<li>callback : 새로운 배열의 요소를 생성하는 함수로 세 가지 인수를 가진다.<ul>
<li>currentValue : 현재 처리되고 있는 요소</li>
<li>index : 현재 처리되고 있는 요소의 index값</li>
<li>array : 메소드가 불려진 배열</li>
</ul>
</li>
<li>thisArg : callback 함수 내부에서 사용할 this 값 설정.</li>
</ul>
</blockquote>
<hr>
<p><em>key에 대해서는 이해가 잘 가지 않아 좀 더 공부하고 기록해야겠다…</em></p>
</div><!-- comment system--><div class="container"><hr></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="mailto:wjdwo0106@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a><a href="https://github.com/https://github.com/jjh106" target="_blank"><i class="fa fa-github"></i></a></div><div class="footer">© 2017 <a href="/" rel="nofollow">Jae Ho</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>